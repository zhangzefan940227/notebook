代码均使用Kotlin编写。

# 通过xml获取菜单列表项

```kotlin
/**
 * 通过xml文件获取菜单列表项
 * @param xml 传入的xml文件名称，包含后缀
 *
 */
@JvmStatic
@Throws(IOException::class, XmlPullParserException::class)
fun getMenuList(xml: InputStream?): List<MenuModel> {
    val menuList: MutableList<MenuModel> = ArrayList()
    var menuModel: MenuModel? = null
    val pullParser = Xml.newPullParser()
    try {
        //为PULL解析器设置要解析的XML数据
        pullParser.setInput(xml, "UTF-8")
        var event = pullParser.eventType
        while (event != XmlPullParser.END_DOCUMENT) {
            // when 等价于 switch
            when (event) {
                XmlPullParser.START_TAG -> {
                    when (pullParser.name) {
                        ITEM -> { menuModel = MenuModel() }
                        TITLE -> { menuModel?.setTitle(pullParser.nextText()) }
                        JUMP_TO_WHERE -> {
                            menuModel?.setJumpToWhere(Class.forName(pullParser.nextText()))
                        }
                    }
                }
                XmlPullParser.END_TAG -> {
                    if (ITEM == pullParser.name && menuModel != null) {
                        menuList.add(menuModel)
                        menuModel = null
                    }
                }
            }
            event = pullParser.next()
        }
    } catch (e: XmlPullParserException) {
        e.printStackTrace()
    } catch (e: ClassNotFoundException) {
        throw RuntimeException(e)
    }
    LogUtils.i(tag, menuList.toString())
    return menuList
}

```
